/*jshint browser:true */
/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/
!function(r){"use strict";r.fn.fitVids=function(e){var i={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){
// appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js
var t=document.head||document.getElementsByTagName("head")[0],n=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">'+n+"</style>",t.appendChild(o.childNodes[1])}return e&&r.extend(i,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];i.customSelector&&e.push(i.customSelector);var a=".fitvidsignore";i.ignore&&(a=a+", "+i.ignore);var t=r(this).find(e.join(","));// Disable FitVids on this video.
(// SwfObj conflict patch
t=(t=t.not("object object")).not(a)).each(function(e){var t=r(this);if(!(0<t.parents(a).length||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var i,n,o=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("id")){var s="fitvid"+e;t.attr("id",s)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*o+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(){"use strict";function n(e,t,i){var n=new m(t);switch(e){case"open":n.open(i);break;case"close":n.close(i);break;case"toggle":n.toggle(i);break;default:f.error("Method "+e+" does not exist on jQuery.sidr")}}function s(e){return"status"===e?r:g[e]?g[e].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof e&&"string"!=typeof e&&e?void v.error("Method "+e+" does not exist on jQuery.sidr"):g.toggle.apply(this,arguments)}function a(t,e){if("function"==typeof e.source){var i=e.source(name);t.html(i)}else if("string"==typeof e.source&&d.isUrl(e.source))M.get(e.source,function(e){t.html(e)});else if("string"==typeof e.source){var n="",o=e.source.split(",");if(M.each(o,function(e,t){n+='<div class="sidr-inner">'+M(t).html()+"</div>"}),e.renaming){var s=M("<div />").html(n);s.find("*").each(function(e,t){var i=M(t);d.addPrefixes(i)}),n=s.html()}t.html(n)}else null!==e.source&&M.error("Invalid Sidr Source");return t}function e(e){var t=d.transitions,n=M.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,timing:"ease",method:"toggle",bind:"touchstart click",onOpen:function(){},onClose:function(){},onOpenEnd:function(){},onCloseEnd:function(){}},e),o=n.name,i=M("#"+o);return 0===i.length&&(i=M("<div />").attr("id",o).appendTo(M("body"))),t.supported&&i.css(t.property,n.side+" "+n.speed/1e3+"s "+n.timing),i.addClass("sidr").addClass(n.side).data({speed:n.speed,side:n.side,body:n.body,displace:n.displace,timing:n.timing,method:n.method,onOpen:n.onOpen,onClose:n.onClose,onOpenEnd:n.onOpenEnd,onCloseEnd:n.onCloseEnd}),i=a(i,n),this.each(function(){var e=M(this),t=e.data("sidr"),i=!1;t||(r.moving=!1,r.opened=!1,e.data("sidr",o),e.bind(n.bind,function(e){e.preventDefault(),i||(i=!0,s(n.method,o),setTimeout(function(){i=!1},100))}))})}var t={classCallCheck:function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}};t.createClass=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();var i,o,r={moving:!1,opened:!1},d={isUrl:function(e){var t;return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},addPrefixes:function(e){this.addPrefix(e,"id"),this.addPrefix(e,"class"),e.removeAttr("style")},addPrefix:function(e,t){var i=e.attr(t);"string"==typeof i&&""!==i&&"sidr-inner"!==i&&e.attr(t,i.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-"+t+"-$1"))},transitions:(C=(document.body||document.documentElement).style,k=!1,E="transition",E in C?k=!0:(j=["moz","webkit","o","ms"],O=x=void 0,E=E.charAt(0).toUpperCase()+E.substr(1),k=function(){for(O=0;O<j.length;O++)if((x=j[O])+E in C)return!0;return!1}(),E=k?"-"+x.toLowerCase()+"-"+E.toLowerCase():null),{supported:k,property:E})},l=jQuery,u="sidr-animating",c="open",h="close",p="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",m=function(){function n(e){t.classCallCheck(this,n),this.name=e,this.item=l("#"+e),this.openClass="sidr"===e?"sidr-open":"sidr-open "+e+"-open",this.menuWidth=this.item.outerWidth(!0),this.speed=this.item.data("speed"),this.side=this.item.data("side"),this.displace=this.item.data("displace"),this.timing=this.item.data("timing"),this.method=this.item.data("method"),this.onOpenCallback=this.item.data("onOpen"),this.onCloseCallback=this.item.data("onClose"),this.onOpenEndCallback=this.item.data("onOpenEnd"),this.onCloseEndCallback=this.item.data("onCloseEnd"),this.body=l(this.item.data("body"))}return t.createClass(n,[{key:"getAnimation",value:function(e,t){var i={},n=this.side;return i[n]="open"===e&&"body"===t?this.menuWidth+"px":"close"===e&&"menu"===t?"-"+this.menuWidth+"px":0,i}},{key:"prepareBody",value:function(e){var t="open"===e?"hidden":"";if(this.body.is("body")){var i=l("html"),n=i.scrollTop();i.css("overflow-x",t).scrollTop(n)}}},{key:"openBody",value:function(){if(this.displace){var e=d.transitions,t=this.body;if(e.supported)t.css(e.property,this.side+" "+this.speed/1e3+"s "+this.timing).css(this.side,0).css({width:t.width(),position:"absolute"}),t.css(this.side,this.menuWidth+"px");else{var i=this.getAnimation(c,"body");t.css({width:t.width(),position:"absolute"}).animate(i,{queue:!1,duration:this.speed})}}}},{key:"onCloseBody",value:function(){var e=d.transitions,t={width:"",position:"",right:"",left:""};e.supported&&(t[e.property]=""),this.body.css(t).unbind(p)}},{key:"closeBody",value:function(){var e=this;if(this.displace)if(d.transitions.supported)this.body.css(this.side,0).one(p,function(){e.onCloseBody()});else{var t=this.getAnimation(h,"body");this.body.animate(t,{queue:!1,duration:this.speed,complete:function(){e.onCloseBody()}})}}},{key:"moveBody",value:function(e){e===c?this.openBody():this.closeBody()}},{key:"onOpenMenu",value:function(e){var t=this.name;r.moving=!1,r.opened=t,this.item.unbind(p),this.body.removeClass(u).addClass(this.openClass),this.onOpenEndCallback(),"function"==typeof e&&e(t)}},{key:"openMenu",value:function(e){var t=this,i=this.item;if(d.transitions.supported)i.css(this.side,0).one(p,function(){t.onOpenMenu(e)});else{var n=this.getAnimation(c,"menu");i.css("display","block").animate(n,{queue:!1,duration:this.speed,complete:function(){t.onOpenMenu(e)}})}}},{key:"onCloseMenu",value:function(e){this.item.css({left:"",right:""}).unbind(p),l("html").css("overflow-x",""),r.moving=!1,r.opened=!1,this.body.removeClass(u).removeClass(this.openClass),this.onCloseEndCallback(),"function"==typeof e&&e(name)}},{key:"closeMenu",value:function(e){var t=this,i=this.item;if(d.transitions.supported)i.css(this.side,"").one(p,function(){t.onCloseMenu(e)});else{var n=this.getAnimation(h,"menu");i.animate(n,{queue:!1,duration:this.speed,complete:function(){t.onCloseMenu()}})}}},{key:"moveMenu",value:function(e,t){this.body.addClass(u),e===c?this.openMenu(t):this.closeMenu(t)}},{key:"move",value:function(e,t){r.moving=!0,this.prepareBody(e),this.moveBody(e),this.moveMenu(e,t)}},{key:"open",value:function(e){var t=this;if(r.opened!==this.name&&!r.moving){var i;if(!1!==r.opened)return void new n(r.opened).close(function(){t.open(e)});this.move("open",e),this.onOpenCallback()}}},{key:"close",value:function(e){r.opened!==this.name||r.moving||(this.move("close",e),this.onCloseCallback())}},{key:"toggle",value:function(e){r.opened===this.name?this.close(e):this.open(e)}}]),n}(),f=jQuery,v=jQuery,y=["open","close","toggle"],g={},b=function(i){return function(e,t){"function"==typeof e?(t=e,e="sidr"):e||(e="sidr"),n(i,e,t)}},w,C,k,E,j,x,O;for(i=0;i<y.length;i++)o=y[i],g[o]=b(o);var M=jQuery;jQuery.sidr=s,jQuery.fn.sidr=e}(),jQuery(function(n){
// Smooth Scroll
function e(e){var t=null;try{t=n(e)}catch(e){
// Perhaps worth adding some error logging here in the future.
return!1}if((t=t.length?t:n("[name="+this.hash.slice(1)+"]")).length){var i=0;return"fixed"==n(".site-header").css("position")&&(i=n(".site-header").height()),n("body").hasClass("admin-bar")&&(i+=n("#wpadminbar").height()),n("html,body").animate({scrollTop:t.offset().top-i},1e3),!1}}
// -- Smooth scroll on pageload
window.location.hash&&e(window.location.hash),
// -- Smooth scroll on click
n('a[href*="#"]:not([href="#"]):not(.no-scroll)').click(function(){location.pathname.replace(/^\//,"")!=this.pathname.replace(/^\//,"")&&location.hostname!=this.hostname||e(this.hash)})}),// @codekit-prepend "jquery.fitvids.js"
// @codekit-prepend "jquery.sidr.min.js"
// @codekit-prepend "smoothscroll.js"
jQuery(function(i){
// FitVids
i(".entry-content").fitVids(),
// Mobile Menu
i(".mobile-menu-toggle").sidr({name:"sidr-mobile-menu",side:"right",renaming:!1,displace:!1}),i(".menu-item-has-children").prepend('<span class="submenu-toggle">'),i(".menu-item-has-children.sidr-class-current-menu-item").addClass("submenu-active"),i(".menu-item-has-children > .submenu-toggle").click(function(e){i(this).parent().toggleClass("submenu-active"),e.preventDefault()}),i(".sidr a").click(function(){i.sidr("close","sidr-mobile-menu")}),i(".sidr-menu-close").click(function(e){e.preventDefault()}),i(document).on("mouseup touchend",function(e){var t=i("#sidr-mobile-menu");t.is(e.target)||0!==t.has(e.target).length||i.sidr("close","sidr-mobile-menu")})});